/* 모바일 전용 스타일 - 데스크톱은 절대 건드리지 않음 */
@media screen and (max-width: 768px) {
    /* 헤더 전체 재구성 */
    .header {
        padding: 15px !important;
        height: auto !important;
    }
    
    /* 헤더 타이틀 중앙 정렬 및 크기 조정 */
    .header h1 {
        font-size: 20px !important;
        text-align: center !important;
        margin: 0 !important;
        padding: 0 !important;
        font-weight: 600 !important;
    }
    
    /* 채널 버전 텍스트는 조금 작게 */
    .header h1 .channel-version {
        font-size: 16px !important;
        font-weight: normal !important;
        color: #666 !important;
    }
    
    /* 헤더 컨텐츠 플렉스 */
    .header-content {
        display: flex !important;
        flex-direction: column !important;
        align-items: center !important;
        position: relative !important;
    }
    
    /* user-info-container를 타이틀 아래로 이동 */
    #user-info-container {
        position: static !important;
        top: auto !important;
        right: auto !important;
        display: flex !important;
        justify-content: center !important;
        align-items: center !important;
        margin-top: 15px !important;
        margin-bottom: 10px !important;
        gap: 10px !important;
        z-index: auto !important;
    }
    
    /* 채널 선택 버튼과 구독혜택 버튼 동일 스타일 */
    #user-info-container .back-to-main,
    #user-info-container .mobile-benefits-btn {
        font-size: 12px !important;
        padding: 6px 10px !important;
        height: 32px !important;
        border: 1px solid #ddd !important;
        box-sizing: border-box !important;
        display: flex !important;
        align-items: center !important;
    }
    
    /* user-info 박스 모바일 스타일 */
    #user-info {
        position: static !important;
        display: flex !important;
        align-items: center !important;
        gap: 8px !important;
        font-size: 12px !important;
        padding: 6px 10px !important;
        height: 32px !important;
    }
    
    /* 로그아웃 버튼 스타일 조정 */
    #user-info button {
        padding: 4px 8px !important;
        font-size: 11px !important;
        border-radius: 4px !important;
        margin-left: 8px !important;
    }
    
    /* 사용자명 텍스트 크기 조정 */
    #user-info span {
        font-size: 12px !important;
    }
    
    /* 메인 콘텐츠 영역을 모바일 친화적으로 변경 */
    .main-content {
        display: block !important;
        padding: 15px !important;
        gap: 0 !important;
        margin-top: 20px !important; /* 헤더와 적절한 간격 */
    }
    
    /* 기존 데스크톱 사이드바 숨기기 */
    .calculator-sidebar {
        display: none !important;
    }
    
    .products-main {
        display: block !important;
        width: 100% !important;
        max-width: none !important;
    }
    
    /* 기존 products-header 버튼 숨기기 */
    .products-header {
        display: none !important;
    }
    
    /* 제품 그리드 모바일 최적화 */
    .products-grid {
        display: flex !important;
        flex-direction: column !important;
        gap: 12px !important;
        margin-bottom: 80px !important; /* 하단 패널 공간 */
    }
    
    /* 제품 추가 카드 스타일 개선 */
    .add-product-card {
        width: 100% !important;
        padding: 20px !important;
        border: 2px dashed #007bff !important;
        border-radius: 10px !important;
        background: white !important;
        margin: 0 !important;
        min-height: auto !important;
    }
    
    .add-product-card .add-icon {
        font-size: 28px !important;
        color: #007bff !important;
    }
    
    .add-product-card .add-text {
        font-size: 14px !important;
        font-weight: 600 !important;
        color: #007bff !important;
        margin-top: 5px !important;
    }
    
    /* 하단 고정 혜택 패널을 실제 요소로 교체 */
    .mobile-benefit-panel {
        position: fixed !important;
        bottom: 0 !important;
        left: 0 !important;
        right: 0 !important;
        background: white !important;
        border-top: 1px solid #ddd !important;
        box-shadow: 0 -2px 10px rgba(0,0,0,0.1) !important;
        z-index: 1000 !important;
        font-family: 'Pretendard', sans-serif !important;
        transition: height 0.3s ease !important;
    }
    
    .mobile-benefit-panel.collapsed {
        height: 60px !important;
    }
    
    .mobile-benefit-panel.expanded {
        height: 300px !important;
    }
    
    .mobile-benefit-header {
        height: 60px !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        font-size: 15px !important;
        font-weight: 600 !important;
        color: #333 !important;
        cursor: pointer !important;
        border-bottom: 1px solid #eee !important;
    }
    
    .mobile-benefit-content {
        padding: 20px !important;
        overflow-y: auto !important;
        height: calc(300px - 60px) !important;
        display: none !important;
    }
    
    .mobile-benefit-panel.expanded .mobile-benefit-content {
        display: block !important;
    }
    
    /* 워터마크 숨김 */
    .watermark-signature {
        display: none !important;
    }
    
    /* 웰컴 메시지 숨김 */
    .welcome-message {
        display: none !important;
    }
    
    /* 모바일에서 터치 반응 개선 */
    .add-product-card:active {
        transform: scale(0.98);
        background: #f0f8ff !important;
    }
    
    .subscription-benefits-btn:active {
        transform: scale(0.96);
        background: #f5f5f5 !important;
    }
    
    /* 모달 모바일 최적화 */
    .modal-content {
        width: 90vw !important;
        height: auto !important;
        max-width: none !important;
        max-height: 90vh !important;
        margin: 5vh auto !important;
        border-radius: 10px !important;
        overflow: hidden !important;
    }
    
    /* 구독혜택 모달 특별 처리 */
    .benefits-modal-content {
        width: 95vw !important;
        max-height: 85vh !important;
        margin: 7.5vh auto !important;
    }
    
    /* 구독혜택 그리드 모바일 최적화 */
    .benefits-grid {
        display: grid !important;
        grid-template-columns: repeat(2, 1fr) !important;
        gap: 10px !important;
        padding: 15px !important;
        max-height: 60vh !important;
        overflow-y: auto !important;
    }
    
    /* 구독혜택 아이템 모바일 스타일 */
    .benefit-item {
        padding: 8px 5px !important;
        min-height: 140px !important;
        font-size: 13px !important;
        display: flex !important;
        flex-direction: column !important;
        align-items: center !important;
        justify-content: center !important;
        text-align: center !important;
        border-radius: 12px !important;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
        border: none !important;
        cursor: pointer !important;
        transition: all 0.3s !important;
        box-shadow: 0 4px 10px rgba(102, 126, 234, 0.3) !important;
        position: relative !important;
        overflow: hidden !important;
    }
    
    .benefit-item:nth-child(2n) {
        background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%) !important;
        box-shadow: 0 4px 10px rgba(240, 147, 251, 0.3) !important;
    }
    
    .benefit-item:nth-child(3n) {
        background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%) !important;
        box-shadow: 0 4px 10px rgba(79, 172, 254, 0.3) !important;
    }
    
    .benefit-item:nth-child(4n) {
        background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%) !important;
        box-shadow: 0 4px 10px rgba(67, 233, 123, 0.3) !important;
    }
    
    .benefit-item:active {
        transform: scale(0.92) !important;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2) !important;
    }
    
    .benefit-item img {
        width: 100px !important;
        height: 100px !important;
        margin-bottom: 5px !important;
        object-fit: contain !important;
        max-width: 95% !important;
        filter: brightness(0) invert(1) !important;
        opacity: 0.95 !important;
    }
    
    .benefit-name {
        font-size: 12px !important;
        font-weight: 700 !important;
        line-height: 1.2 !important;
        word-break: keep-all !important;
        margin-top: auto !important;
        color: white !important;
        text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2) !important;
    }
    
    .modal-header {
        padding: 15px !important;
        position: sticky !important;
        top: 0 !important;
        background: white !important;
        z-index: 10 !important;
        border-bottom: 1px solid #eee !important;
        display: flex !important;
        justify-content: space-between !important;
        align-items: center !important;
    }
    
    .modal-header h2 {
        font-size: 18px !important;
        margin: 0 !important;
        font-weight: 600 !important;
        color: #333 !important;
    }
    
    /* 구독혜택 모달 헤더 특별 처리 */
    .benefits-modal-content .modal-header h2 {
        display: block !important;
        visibility: visible !important;
    }
    
    .modal-header .close-btn {
        font-size: 24px !important;
        width: 30px !important;
        height: 30px !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        cursor: pointer !important;
    }
    
    /* 모달 바디 모바일 스타일 */
    .modal-body {
        padding: 15px !important;
        overflow-y: auto !important;
    }
    
    .modal-body > p {
        font-size: 13px !important;
        margin-bottom: 15px !important;
        color: #666 !important;
    }
    
    .step-indicator {
        display: none !important;
    }
    
    .modal-scroll-content {
        padding: 20px !important;
        height: calc(100vh - 80px) !important;
        overflow-y: auto !important;
    }
    
    .options-grid {
        display: grid !important;
        grid-template-columns: 1fr !important;
        gap: 8px !important;
    }
    
    .option-card {
        padding: 16px !important;
        font-size: 14px !important;
        border-radius: 8px !important;
        min-height: 48px !important;
    }
}